##### Basics #####
set -g default-terminal "tmux-256color"
set -g history-limit 20000
set -g renumber-windows on

##### Change prefix to Ctrl+a #####
# Reason for conflict (explicit):
# - Ghostty has shortcuts for UI actions such as tabs and pane splits.
# - If terminal-side shortcuts consume Ctrl combos, tmux's prefix (default Ctrl+b) may not reach tmux.
# - This can conflict with Ghostty's internal keybinds for tabs/panes,
#   so we move tmux's prefix to Ctrl+a to avoid it.
set -g prefix C-a
unbind C-b
bind C-a send-prefix

##### Split panes (unify in tmux) #####
# Reason for conflict :
# - Ghostty itself has pane-splitting features, and having two systems increases confusion and conflicts.
# - Therefore, we unify splitting in tmux and assign easy-to-remember keys there.
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

##### Pane navigation (prefix + hjkl) #####
# Reason for conflict (explicit):
# - Ctrl+h/j/k/l can be bound by apps or terminal shortcuts (including Ghostty internal keybinds).
# - Putting the prefix first makes conflicts with Ghostty's UI shortcuts less likely.
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

##### Pane actions #####
bind z resize-pane -Z          # Temporarily maximize a pane (zoom)
bind x kill-pane               # Close a pane (see below if you want confirmation)
bind r source-file ~/.tmux.conf \; display-message "Reloaded ~/.tmux.conf"

##### Mouse (works well with Ghostty) #####
# Ghostty feels natural with mouse actions, so enable it in tmux to reduce friction.
set -g mouse on

##### Status display  #####
set -g status-interval 5
set -g status-left-length 40
set -g status-right-length 80
set -g status-left "#S"
set -g status-right "%Y-%m-%d %H:%M"
